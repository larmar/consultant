<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>

		<!-- add fields Related Product 2 & Related Product 3 in Consultant form view -->
		<record id="view_form_consultant_product_link_extra" model="ir.ui.view">
			<field name="name">Consultants Form - Product Link</field>
			<field name="model">consultant.consult</field>
			<field name="inherit_id" ref="consultant_product_link.view_form_consultant_consult_product_link"/>
			<field name="arch" type="xml">

				<field name="product_id" position="after">
					<field name="product2_id" attrs="{'invisible': [('product2_id','=',False)]}"/>
					<field name="product3_id" attrs="{'invisible': [('product3_id','=',False)]}"/>
				</field>

			</field>
		</record>

		<!-- add action buttons to set fields Related Product 2 & Related Product 3 -->
		<record id="view_form_consultant_product_link_extra_buttons" model="ir.ui.view">
			<field name="name">Consultants Form - Product Link Extra</field>
			<field name="model">consultant.consult</field>
			<field name="inherit_id" ref="consultant.view_form_consultant_consult"/>
			<field name="arch" type="xml">

				<field name="stage_id" position="before">
					<button id="link_product2" name="action_link_product2" type="object" string="Link Product 2" attrs="{'invisible':['|',('product_id','=',False),('product2_id','!=',False)]}"/>
					<button id="link_product3" name="action_link_product3" type="object" string="Link Product 3" attrs="{'invisible':['|',('product2_id','=',False),('product3_id','!=',False)]}"/>
				</field>

			</field>
		</record>

	</data>
</odoo>
