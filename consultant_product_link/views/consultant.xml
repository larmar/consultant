<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>

		<record id="view_form_consultant_consult_product_link" model="ir.ui.view">
			<field name="name">Consultants Form - Product Link</field>
			<field name="model">consultant.consult</field>
			<field name="inherit_id" ref="consultant.view_form_consultant_consult"/>
			<field name="arch" type="xml">
				<field name="opportunity_ids" position="after">
					<field name="sale_order_ids" widget="many2many_tags" readonly="1" invisible="1"/>
					<field name="purchase_order_ids" widget="many2many_tags" readonly="1" invisible="1"/>
				</field>

				<div name="button_box" position="inside">
					<button name="action_open_sale_orders" 
						type="object" 
						class="oe_stat_button"
						icon="fa-usd"
						help="Sale Orders related to Consultant">
	                	<field name="total_sale_orders" widget="statinfo" string="Sale Orders"/>
	                </button>

	                <button name="action_open_purchase_orders" 
	                	type="object" 
	                	class="oe_stat_button"
	                	icon="fa-shopping-cart"
	                	help="Purchase Orders related to Consultant">
	                	<field name="total_purchase_orders" widget="statinfo" string="Purchase Orders"/>
	                </button>
				</div>
			</field>
		</record>

		<!-- Add sale order on consultants search view -->
		<record id="view_search_consultants_consultant_sale_order" model="ir.ui.view">
	        <field name="name">Consultants Search - Sales order</field>
	        <field name="model">consultant.consult</field>
	        <field name="inherit_id" ref="consultant.view_search_consultants_consultant"/>
	        <field name="arch" type="xml">
	        	<field name="opportunity_ids" position="after">
	        		<field name="sale_order_id"/>
	        	</field>
	        </field>
	    </record>

	</data>
</odoo>
